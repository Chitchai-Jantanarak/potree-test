/**
 * Potree Viewer Styles
 *
 * Structure (matching reference implementation):
 * - potree_container (outer wrapper)
 *   - potree_render_area_class (render area - z-index: 1)
 *     - cesium_container (Cesium canvas - INSIDE render area)
 *   - potree_sidebar_container (sidebar - z-index: 100)
 *
 * Z-Index Layers:
 * - Cesium canvas: inherits from parent
 * - Potree canvas: z-index 1 (rendered on top of Cesium)
 * - Sidebar: z-index 100
 * - Overlays: z-index 1000+
 */

/* ============================================
   Container Styles
   ============================================ */
.potree_container {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

/* ============================================
   Potree Render Area
   ============================================ */
.potree_render_area_class {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1;
  overflow: hidden;
  pointer-events: auto;
  /* transition: left 0.35s ease; */
}

/* ============================================
   Cesium Container (inside render area)
   ============================================ */
[id^="cesium_container_"] {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 0;
}

/* Cesium widget fills container */
.cesium-widget,
.cesium-widget canvas {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
}

/* Hide Cesium credit container */
.cesium-viewer-bottom,
.cesium-viewer-cesiumInspector,
.cesium-viewer-cesium-logo {
  display: none !important;
}

/* ============================================
   Sidebar Styles
   ============================================ */

/* Sidebar container - matches reference implementation pattern */
.potree_sidebar_container,
[id^="potree_sidebar_container_"] {
  position: absolute !important;
  left: 0 !important;
  top: 0 !important;
  bottom: 0 !important;
  width: 300px !important;
  z-index: 100 !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  background-color: var(--bg-color, #ffffff) !important;
  border-right: 1px solid #000 !important;
}

/* Ensure sidebar content is visible */
.potree_sidebar_container .sidebar,
[id^="potree_sidebar_container_"] .sidebar,
.potree_sidebar_container #sidebar_root,
[id^="potree_sidebar_container_"] #sidebar_root {
  width: 100% !important;
  display: block !important;
}

/* ============================================
   Toggle Button for Sidebar
   ============================================ */
.potree_sidebar_toggle {
  position: absolute;
  left: 300px;
  top: 10px;
  z-index: 101;
  width: 30px;
  height: 30px;
  background: rgba(30, 30, 30, 0.9);
  border: 1px solid #444;
  border-radius: 4px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  font-size: 16px;
  /* transition: left 0.35s ease; */
}

.potree_sidebar_toggle:hover {
  background: rgba(50, 50, 50, 0.9);
}

.potree_sidebar_toggle.collapsed {
  left: 10px;
}

/* ============================================
   Loading & Error States
   ============================================ */

/* Hide Potree default loading screen */
#potree_loading_screen {
  display: none !important;
}

/* ============================================
   Canvas Transparency for Cesium Overlay
   ============================================ */

/* Make Potree canvas transparent when Cesium is active (inside render area) */
.has-cesium .potree_render_area_class {
  background: transparent !important;
}

/* Potree canvas must be above Cesium (z-index: 1) */
.potree_render_area_class > canvas {
  position: relative !important;
  z-index: 1 !important;
  background: transparent !important;
  pointer-events: auto;
}

/* ============================================
   Potree Info Panel
   ============================================ */
#potree_description {
  z-index: 50;
}

/* ============================================
   Quick Buttons (Potree toolbar)
   ============================================ */
#potree_quick_buttons {
  z-index: 50;
}

/* ============================================
   Accordion Menu (Sidebar panels)
   ============================================ */
.accordion {
  width: 100%;
}

.accordion h3 {
  cursor: pointer;
  padding: 10px;
  margin: 0;
  background: #2a2a2a;
  border-bottom: 1px solid #444;
}

.accordion h3:hover {
  background: #3a3a3a;
}
